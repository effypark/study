# 24장 부분적 경계

아키텍처 경계를 완벽하게 만드는 데는 비용이 많이 든다.  
쌍방향의 다형적 Boundary 인터페이스, Input과 Output을  
위한 데이터 구조를 만들어야 할 뿐만 아니라,  
두 영역을 독립적으로 컴파일하고 배포할 수 있는  
컴포넌트로 격리하는 데 필요한 모든 의존성을 관리해야 한다.

### 마지막 단계를 건너뛰기
부분적 경계를 생성하는 방법 하나는 독립적으로 컴파일하고  
배포할 수 있는 컴포넌트를 만들기 위한 작업은 모두 수행한 후,  
단일 컴포넌트에 그대로 모아만 두는 것이다.  
쌍방향 인터페이스도 그 컴포넌트에 있고, 입력,출력 데이터 구조도  
거기에 있으며, 모든 것이 완전히 준비되어 있다.  
하지만 이 모두를 단일 컴포넌트로 컴파일해서 배포한다.

 

### 일차원 경계

완벽한 형태의 아키텍처 경계는 양방향으로 격리된 상태를 유지해야 하므로  
쌍방향 Boundary 인터페이스를 사용한다.  
양방향으로 격리된 상태를 유지하려면 초기 설정할 때나 지속적으로 유지할 때도  
비용이 많이 든다.

다이어그램의 위험천만한 점선 화살표에서 보듯이 이러한 분리는 매우 빠르게  
붕괴될 수 있다는 점 역시 분명하다.  
쌍방향 인터페이스가 없고 개발자와 아키텍트가 근면 성실하고 제대로 훈련되어  
있지 않다면, 이 점선과 같은 비밀 통로가 생기는 일을 막을 방법이 없다.

 
### 퍼사드(Facade)

Facade 클래스에는 모든 서비스 클래스를 메서드 형태로 정의하고,   
서비스 호출이 발생하면 해당 서비스 클래스로 호출을 전달한다.   
클라이언트는 이들 서비스 클래스에 직접 접근할 수 없다.  
정적 언어였다면 서비스 클래스 중 하나에서 소스 코드가 변경되면  
Client도 무조건 재컴파일해야 할 것이다.
