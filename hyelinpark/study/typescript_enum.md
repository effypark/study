## Enums

<br />

- 열거형(enum)은 TypeScript가 제공하는 기능 중 하나입니다.
- 열거형으로 이름이 있는 상수들의 집합을 정의할 수 있습니다. 열거형을 사용하면 의도를 문서화 하거나 구분되는 사례 집합을 더 쉽게 만들수 있습니다.
- TypeScript는 숫자와 문자열-기반 열거형을 제공합니다.

### 숫자 열거형 (Numeric enums)

<br />

```
enum Direction {
  Up = 1,
  Down,
  Left,
  Right,
}
```

- 위 코드에서 Up이 1 로 초기화된 숫자 열거형을 선언했습니다. 그 지점부터 뒤따르는 멤버들은 자동으로-증가된 값을 갖습니다.
- 즉 Direction.Up 은 1, Down 은 2, Left 는 3, Right 은 4 을 값으로 가집니다.

- 원한다면, 전부 초기화 하지 않을 수도 있습니다:

```
enum Direction {
  Up,
  Down,
  Left,
  Right,
}
```

- 위 경우 Up 값은 0, Down 은 1 이 됩니다. 자동-증가하는 기능은 멤버 값 자체에는 신경 쓰지 않지만, 각 값이 같은 열거형의 다른 값과 구별돼야 하는 경우에 유용합니다.

- 열거형을 사용하는 건 간단하게, 열거형 자체에서 프로퍼티로 모든 멤버에 접근하며, 열거형의 이름을 사용해 타입을 선언합니다.

```
enum UserResponse {
  No = 0,
  Yes = 1,
}

function respond(recipient: string, message: UserResponse): void {
  // ...
}

respond("Princess Caroline", UserResponse.Yes);
```

- 숫자 열거형은 계산된 멤버와 상수 멤버 (아래 참조)를 섞어서 사용할 수 있습니다.
- 간단히 말해, 초기화되지 않은 열거형이 먼저 나오거나, 숫자 상수 혹은 다른 상수 열거형 멤버와 함께 초기화된 숫자 열거형 이후에 와야 합니다. 즉 아래 방식은 허용되지 않습니다.

```
enum E {
  A = getSomeValue(),
  B, // 오류! 앞에 나온 A가 계산된 멤버이므로 초기화가 필요합니다.
Enum member must have initializer.
}
```

<br />

### 문자열 열거형 (String enums)

<br />

- 문자열 열거형은 유사한 개념이지만 아래 설명된 것과 같이 런타임에서 열거형의 동작이 약간 다릅니다.
- 문자열 열거형에서 각 멤버들은 문자열 리터럴 또는 다른 문자열 열거형의 멤버로 상수 초기화 해야 합니다.

```
enum Direction {
  Up = "UP",
  Down = "DOWN",
  Left = "LEFT",
  Right = "RIGHT",
}
```

- 문자열 열거형은 숫자 열거형처럼 자동-증가하는 기능은 없지만, “직렬화”를 잘한다는 이점이 있습니다.
- 다시 말해서 만약 숫자 열거형을 이용해서 디버깅하고 있고 그 값을 읽어야 한다면, 종종 그 값이 불확실한 경우가 있습니다 - 숫자만으로는 이것이 어떤 의미인지 유의미한 정보를 제공해주지 않기 때문입니다.
- 반면 문자열 열거형을 이용하면 코드를 실행할 때, 열거형 멤버에 지정된 이름과는 무관하게 유의미하고 읽기 좋은 값을 이용하여 실행할 수 있습니다.

<br />

### 계산된 멤버와 상수 멤버 (Computed and constant members)

<br />

- 각 열거형의 멤버는 상수이거나 계산된 값일 수 있습니다. 열거형의 멤버는 아래의 경우 상수로 간주합니다.

- 열거형의 첫 번째 데이터이며 초기화 값이 없는 경우, 0으로 값이 할당됩니다.

```
// E.X는 상수입니다:
enum E {
  X,
}
```

- 초기화 값이 없으며 숫자 상수로 초기화된 열거형 멤버 뒤에 따라 나오는 경우. 앞에 나온 상수 값에 1씩 증가한 값을 상수로 갖습니다.

```
// 'E1' 과 'E2' 의 모든 열거형 멤버는 상수입니다.

enum E1 {
  X,
  Y,
  Z,
}

enum E2 {
  A = 1,
  B,
  C,
}
```

- 열거형 멤버는 상수 열거형 표현식으로 초기화됩니다. 상수 열거형 표현식은 컴파일 시 알아낼 수 있는 TypeScript 표현식의 일부입니다. 아래의 경우 상수 열거형 표현식이라고 합니다

1. 리터럴 열거형 표현식 (기본적으로 문자 리터럴 또는 숫자 리터럴)
2. 이전에 정의된 다른 상수 열거형 멤버에 대한 참조 (다른 열거형에서 시작될 수 있음)
3. 괄호로 묶인 상수 열거형 표현식
4. 상수 열거형 표현식에 단항 연산자 +, -, ~ 를 사용한 경우
5. 상수 열거형 표현식을 이중 연산자 +, -, \*, /, %, <<, >>, >>>, &, |, ^ 의 피연산자로 사용할 경우

<br />

- 상수 열거형 표현식 값이 NaN 이거나 Infinity 이면 컴파일 시점에 오류가 납니다.

- 이외 다른 모든 경우 열거형 멤버는 계산된 것으로 간주합니다.

```
enum FileAccess {
  // 상수 멤버
  None,
  Read = 1 << 1,
  Write = 1 << 2,
  ReadWrite = Read | Write,

  // 계산된 멤버
  G = "123".length,
}
```
